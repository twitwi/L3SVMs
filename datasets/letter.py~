import sys

import numpy as np
import scipy.io as sio

output = sys.argv[1]+".sparse"

with open(sys.argv[1],"r") as input_file:

    with open(output,"w") as output_file:

        for line in input_file:
            line = line.split(",")
            l = ord(line[0]) - ord("A")
            assert l >= 0
            assert l <= 25
            out_line = str(l) + " " + " ".join([str(i+1)+":"+str(el) for i,el in enumerate(line[1:]) if el!=0])
            output_file.write(out_line)
